// controllers/ServicosController.js

import { obterServicos } from '../model/data.js'; // Supondo que data.js tenha essa função

class ServicosController {
  async exibirPaginaDeServicos(req, res) {
    try {
      const servicos = await obterServicos(); // Busca os dados dos serviços no Model
      this.renderView('servicos.html', { servicos: servicos }); // Renderiza a view 'servicos.html' com os dados
    } catch (error) {
      console.error("Erro ao buscar serviços:", error);
      // Lógica para lidar com o erro, talvez renderizar uma página de erro
      this.renderView('erro.html', { mensagem: 'Erro ao carregar os serviços.' });
    }
  }

  // Outras ações relacionadas a serviços podem ser adicionadas aqui,
  // como adicionar um novo serviço, editar um serviço, etc.

  renderView(viewPath, data = {}) {
    // Aqui você teria a lógica para ler o arquivo HTML,
    // substituir os dados dinamicamente e enviar a resposta ao cliente.
    // Isso pode envolver o uso de um template engine ou manipulação manual do DOM no servidor (menos comum).
    console.log(`Renderizando a view: ${viewPath} com os dados:`, data);
    // Em um cenário real de backend, você enviaria o HTML renderizado como resposta HTTP.
  }
}

export default new ServicosController();